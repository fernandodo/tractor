1
0:0:0,56 --> 0:0:0,92
Hello

2
0:0:0,92 --> 0:0:1,16
大家好

3
0:0:1,16 --> 0:0:2,6
我是马克

4
0:0:2,6 --> 0:0:3,9
今天跟大家分享一道面试题

5
0:0:3,9 --> 0:0:5,56
虎牙实习一面

6
0:0:5,56 --> 0:0:7,7
ACTON作用为什么要用ACEXTON

7
0:0:7,7 --> 0:0:10,219
CACTON变量在哪个数据段

8
0:0:10,219 --> 0:0:13,5
我们先来了解一下accident的主要作用

9
0:0:13,74 --> 0:0:17,2
accident的主要作用呢是声明变量或者函数

10
0:0:17,2 --> 0:0:19,1
声明不是定义

11
0:0:19,1 --> 0:0:20,98
声明呢是不分配内存的

12
0:0:20,98 --> 0:0:22,72
定义才会分配内存

13
0:0:22,72 --> 0:0:25,9
他告诉编译器这个变量或者函数呢

14
0:0:25,9 --> 0:0:27,3
在其他文件当中

15
0:0:27,3 --> 0:0:29,78
定义的这个文件通常是指原文件

16
0:0:29,78 --> 0:0:30,3
也就是呢

17
0:0:30,3 --> 0:0:33,95
我们想要跨原文件的去访问变量或者函数

18
0:0:33,95 --> 0:0:34,67
大家注意

19
0:0:34,67 --> 0:0:38,3
这个变量或函数呢不能够用static来进行修饰

20
0:0:38,3 --> 0:0:39,96
如果是static进行修饰呢

21
0:0:39,96 --> 0:0:44,0
它就限定在本文原文件当中去使用了

22
0:0:44,0 --> 0:0:48,28
这样链接器在链接阶段会在其他文件当中呢

23
0:0:48,28 --> 0:0:49,86
去寻找它的定义

24
0:0:49,86 --> 0:0:52,24
这个呢是excellent的主要作用

25
0:0:52,24 --> 0:0:53,68
那么大家需要注意的是

26
0:0:53,68 --> 0:0:55,52
这里呢通常是指原文件

27
0:0:55,52 --> 0:0:57,4
如果是头文件的话呢

28
0:0:57,4 --> 0:0:58,88
那么我们就直接通过include

29
0:0:58,88 --> 0:1:0,75
去包含这个头文件就可以了

30
0:1:0,75 --> 0:1:3,99
那么我们如果要跨原文件去访问变量和函数

31
0:1:3,99 --> 0:1:5,97
那么就可以使用XXT

32
0:1:6,29 --> 0:1:9,17
那么这个变量呢通常也是全局变量

33
0:1:9,17 --> 0:1:11,59
接下来看下面这个案例

34
0:1:11,59 --> 0:1:13,45
在phi一点cc当中

35
0:1:13,45 --> 0:1:17,43
我们声明定义了一个g value等于99

36
0:1:17,43 --> 0:1:20,31
那么如果我们在泛二点cc当中

37
0:1:20,31 --> 0:1:22,3
要使用到这个全局变量

38
0:1:22,3 --> 0:1:26,98
那么我们可以先通过action int global来进行声明

39
0:1:26,98 --> 0:1:29,82
那么它不会出现编译错误

40
0:1:29,82 --> 0:1:33,4
因为呢我们告诉编译器

41
0:1:33,4 --> 0:1:35,7
它在其他文件当中声明呃

42
0:1:35,7 --> 0:1:38,8
链接阶段呢它会在其他文件当中

43
0:1:38,8 --> 0:1:40,81
其他文件当中去寻找它的定义

44
0:1:40,81 --> 0:1:42,49
那么我们再来看一下

45
0:1:42,49 --> 0:1:43,89
在FI一点cc当中呢

46
0:1:43,89 --> 0:1:45,25
我们定义了一个函数

47
0:1:45,25 --> 0:1:46,73
如果在phi3当中

48
0:1:46,73 --> 0:1:48,62
我们想要使用这个全局函数的话

49
0:1:48,62 --> 0:1:50,6
那么我们先需要进行一个声明

50
0:1:50,6 --> 0:1:51,66
同样如此

51
0:1:51,66 --> 0:1:52,98
就是我们在编译阶段

52
0:1:52,98 --> 0:1:54,7
它不会报错

53
0:1:54,7 --> 0:1:56,89
告诉我们他是在原文件当中定义了

54
0:1:56,89 --> 0:1:58,23
然后在链接阶段呢

55
0:1:58,23 --> 0:2:1,37
会去在其他文件当中去进行查询

56
0:2:1,73 --> 0:2:4,479
接下来我们再来看一下ACDC的作用

57
0:2:4,479 --> 0:2:7,619
首先我们要了解这个EXTONC的一个缘由

58
0:2:7,619 --> 0:2:10,959
主要呢是C和cc加进行一个混合编程的时候

59
0:2:10,959 --> 0:2:12,32
需要使用到

60
0:2:12,32 --> 0:2:16,46
因为CCR它是支持函数重载的一些独特特性

61
0:2:16,46 --> 0:2:20,7
所以呢它会进行一个呃命名修饰

62
0:2:20,7 --> 0:2:22,39
而C语言呢它不会进行命名修饰

63
0:2:22,39 --> 0:2:24,57
因为它不支持这些函数重载

64
0:2:24,57 --> 0:2:26,94
那么ex tenc的作用是什么呢

65
0:2:26,94 --> 0:2:29,92
只要我们用XTC来包裹C代码

66
0:2:29,92 --> 0:2:30,58
其实呢

67
0:2:30,58 --> 0:2:33,7
如果我们在C加的编译器进行编译的时候呢

68
0:2:33,7 --> 0:2:35,72
他就会认为呃

69
0:2:35,72 --> 0:2:37,46
我们这一段代码是C

70
0:2:37,46 --> 0:2:40,75
以按C的规则来处理函数名

71
0:2:40,75 --> 0:2:43,39
这样子呢确保后面的链接正确

72
0:2:43,39 --> 0:2:48,35
不然呢会出现一个未定义的引用的问题

73
0:2:48,91 --> 0:2:51,71
那么接下来我们看一下具体的使用方式

74
0:2:51,71 --> 0:2:54,33
就是我们先需要通过这样的一个宏

75
0:2:54,33 --> 0:2:58,819
如果是采用C加编译器的方式来进行编译的话

76
0:2:58,819 --> 0:2:59,439
那么呢

77
0:2:59,439 --> 0:3:1,159
接下来这一段代码

78
0:3:1,159 --> 0:3:4,37
采用C的规则来处理这个函数名

79
0:3:4,37 --> 0:3:7,33
然后也就是告诉他不要进行一个命名修饰

80
0:3:7,33 --> 0:3:11,32
这样子呢确保我们能够进行一个链接正确

81
0:3:11,88 --> 0:3:14,86
接着我们再来了解ACEM修饰的变量

82
0:3:14,86 --> 0:3:16,44
在哪个数据段

83
0:3:16,44 --> 0:3:17,64
在这个数据段呢

84
0:3:17,64 --> 0:3:18,9
我们需要考虑的是

85
0:3:18,9 --> 0:3:22,13
第一个就是我们的可执行程序EF文件

86
0:3:22,13 --> 0:3:24,5
大家需要知道的这些段

87
0:3:24,5 --> 0:3:25,85
那么我们刚刚跟大家说了

88
0:3:25,85 --> 0:3:28,41
ACTON它是用来修饰变量和函数

89
0:3:28,41 --> 0:3:29,85
那么这里呢说的是变量

90
0:3:29,85 --> 0:3:32,74
变量呢必须是全局变量

91
0:3:32,74 --> 0:3:34,6
全局变量它有两种状态

92
0:3:34,6 --> 0:3:36,47
一个呢是已经初始化的

93
0:3:36,47 --> 0:3:37,99
还有一个呢就是没有初始化

94
0:3:37,99 --> 0:3:39,71
比如说value1它是初始化了

95
0:3:39,71 --> 0:3:40,99
value2就没有初始化

96
0:3:40,99 --> 0:3:42,95
那么他们会在不同的段

97
0:3:42,95 --> 0:3:44,73
比如说在data段

98
0:3:44,73 --> 0:3:46,95
那么呢就是已经定义了的

99
0:3:46,95 --> 0:3:48,329
也就是初始化了的

100
0:3:48,329 --> 0:3:52,34
而DSSS段呢它是没有定义的

101
0:3:52,34 --> 0:3:53,84
未初始化的哦

102
0:3:53,84 --> 0:3:54,6
你定义了

103
0:3:54,6 --> 0:3:57,78
但是未初始化就是会给它默认给它初始化零

104
0:3:57,78 --> 0:4:2,28
比如说我们用int那么它会默认给它一负一个零

105
0:4:2,69 --> 0:4:7,5
然后如果我们去进行一个action的时候

106
0:4:7,5 --> 0:4:10,9
那么呢我们就会去找到对应的定义好

107
0:4:10,9 --> 0:4:12,79
那么大家需要注意这个问题的陷阱

108
0:4:12,79 --> 0:4:16,459
x ant修饰的变量在哪个数据段好

109
0:4:16,459 --> 0:4:19,879
extant呢它仅仅是声明它是不分配内存的

110
0:4:19,879 --> 0:4:22,459
所以呢我们这个问题是问

111
0:4:22,459 --> 0:4:28,17
我们这个变量的定义的数据在哪个数据段好

112
0:4:28,17 --> 0:4:30,81
数据段呢分为已初始化的全局变量

113
0:4:30,81 --> 0:4:32,93
跟未初始化的这种全局变量

114
0:4:32,93 --> 0:4:37,33
那么我们需要分分情况进行讨论好

115
0:4:37,33 --> 0:4:39,95
然后呢大家可以看到这里呢是虚拟内存空间

116
0:4:39,95 --> 0:4:41,89
那么我们的这个点BSS段呢

117
0:4:41,89 --> 0:4:44,42
会映射到我们这里的读写数据段

118
0:4:44,42 --> 0:4:46,82
好点data也会映射到这里

119
0:4:47,94 --> 0:4:50,78
那么在这里呢其实问的就是呃

120
0:4:50,78 --> 0:4:52,3
如果是已初始化的全局变量

121
0:4:52,3 --> 0:4:54,22
那么就是在点data段

122
0:4:54,22 --> 0:4:58,19
未初始化的全局变量呢就点BSS段

123
0:4:58,47 --> 0:5:1,15
那么当然呢关于actor呢

124
0:5:1,15 --> 0:5:2,43
它还会有一些扩展

125
0:5:2,43 --> 0:5:6,51
比如说extant和static修饰全局变量的区别

126
0:5:6,51 --> 0:5:9,19
extent呢主要是跨文件

127
0:5:9,19 --> 0:5:10,93
跨源文件的访问

128
0:5:10,93 --> 0:5:14,35
而static呢是限定变量在当前文件

129
0:5:14,35 --> 0:5:16,87
可见第二个呢是ACTON

130
0:5:16,87 --> 0:5:19,439
希能修饰类和模板吗

131
0:5:19,439 --> 0:5:22,259
那其实呢考察我们西和cc加的一个混合编程的

132
0:5:22,259 --> 0:5:23,79
一个理解

133
0:5:23,79 --> 0:5:26,59
这里呢是告诉CCR的编译器

134
0:5:26,59 --> 0:5:28,65
接下来的包裹的代码

135
0:5:28,65 --> 0:5:31,58
按C的命名规则来进行处理

136
0:5:31,58 --> 0:5:33,96
那也就是呢这里面是C的代码

137
0:5:33,96 --> 0:5:36,4
C是不支持类和模板的

138
0:5:36,4 --> 0:5:39,3
所以呢是不能C不支持这些特性

139
0:5:39,3 --> 0:5:42,23
然后呢就是EXXON变量可以多次声明吗

140
0:5:42,23 --> 0:5:44,75
也就是如果我们有多个文件

141
0:5:44,75 --> 0:5:46,43
都要使用到这个全局变量

142
0:5:46,43 --> 0:5:49,75
我能不能在FI3当中extint value1呢

143
0:5:49,75 --> 0:5:50,63
可以的

144
0:5:50,63 --> 0:5:53,27
但是定义只能有一次

145
0:5:53,27 --> 0:5:55,23
大家看到我们定义只能有一次

146
0:5:55,23 --> 0:5:57,4
不然会有重复定义的报错

147
0:5:57,4 --> 0:6:0,81
关于accent的面试题呢

148
0:6:0,81 --> 0:6:2,9
就跟大家介绍到这

149
0:6:2,9 --> 0:6:4,21
大家如果需要本视频资料的朋友

150
0:6:4,21 --> 0:6:5,75
可以一键三连加关注

151
0:6:5,75 --> 0:6:6,64
谢谢大家

